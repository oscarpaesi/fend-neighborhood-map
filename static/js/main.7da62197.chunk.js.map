{"version":3,"sources":["utils/facebookApi.js","utils/apiKeys.js","components/Header/Header.js","components/Search/Search.js","components/CustomMarker/CustomMarker.js","components/Map/Map.js","data/locations.js","components/App/App.js","serviceWorker.js","index.js"],"names":["fields","handleErrors","response","ok","getPlaceInformation","placeId","fetch","concat","then","Header","react_default","a","createElement","className","Component","Search","state","query","places","componentWillReceiveProps","props","_this","setState","updateQuery","onSearchUpdated","onItemClicked","place","onItemSelected","onItemHighlighted","onKeyDown","e","keyCode","_this2","this","_this$state","autofocus","type","placeholder","aria-label","value","onChange","event","target","disabled","map","key","id","onClick","onMouseEnter","onMouseLeave","onFocus","onBlur","tabIndex","name","CustomMarker","showInfo","onInfoWindowClosed","toggleInfoWindow","_this$props","select","highlight","position","google","maps","LatLng","location","latitude","longitude","lib","animation","Animation","BOUNCE","onCloseClick","src","picture","data","url","alt","href","link","rel","street","overall_star_rating","price_range","MapWrapper","compose","withProps","loadingElement","containerElement","role","mapElement","withScriptjs","withGoogleMap","defaultZoom","defaultCenter","lat","lng","components_CustomMarker_CustomMarker","highlighted","selected","Map","render","googleMapURL","locations","FB_ERROR_MSG","App","visiblePlaces","selectedPlace","highlightedPlace","hasError","componentDidMount","Promise","all","Facebook","json","sort","by","forceUpdate","catch","error","alert","getFilteredPlaces","filteredPlaces","match","RegExp","escapeRegExp","trim","filter","p","test","components_Header_Header","components_Search_Search","length","components_Map_Map","info","isLocalhost","Boolean","window","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","ReactDOM","components_App_App","document","getElementById","URL","process","origin","addEventListener","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.7da62197.chunk.js","sourcesContent":["import * as Keys from './apiKeys';\r\n\r\nconst api = 'https://graph.facebook.com/';\r\nconst version = 'v3.2';\r\nconst accessToken = Keys.FB_ACCESS_TOKEN;\r\nconst fields = ['name', 'id', 'location', 'picture', 'link', 'price_range', 'overall_star_rating'];\r\n\r\nfunction handleErrors(response) {\r\n  if (!response.ok) {\r\n    throw response;\r\n  }\r\n  return response;\r\n}\r\n\r\nexport const getPlaceInformation = (placeId) =>\r\n  fetch(\r\n    `${api}/${version}/${placeId}?fields=${fields}&access_token=${accessToken}`\r\n  ).then(handleErrors);\r\n\r\n","export const GOOGLE_MAPS_KEY = \"AIzaSyBXQcVkKfK_5e3ruKK6eufMpYACSCuYx7o\";\r\nexport const FB_APP_ID = \"318542388823429\";\r\nexport const FB_ACCESS_TOKEN = \"318542388823429|qfJlfM8Kqqekmt6Me6nND8JdXRU\";\r\n","import './Header.css';\r\nimport React, { Component } from 'react';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <h1>\r\n          <span className=\"title\">Auxiliadora <small>&</small> Mont'Serrat</span>\r\n          <hr/>\r\n          <span className=\"subtitle\">Porto Alegre · RS · Brazil</span>\r\n        </h1>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;","import './Search.css';\r\nimport React, { Component } from 'react';\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    query: '',\r\n    places: []\r\n  }\r\n  componentWillReceiveProps = (props) => {\r\n    this.setState({\r\n      places: props.places\r\n    });\r\n  }\r\n  updateQuery = (query) => {\r\n    this.setState({\r\n      query\r\n    });\r\n    this.props.onSearchUpdated(query);\r\n  }\r\n  onItemClicked = (place) => {\r\n    this.props.onItemSelected(place);\r\n  }\r\n  onItemHighlighted = (place) => {\r\n    this.props.onItemHighlighted(place);\r\n  }\r\n  onKeyDown = (e, place) => {\r\n    if (e.keyCode === 13) {\r\n      this.props.onItemSelected(place);\r\n    }\r\n  }\r\n  render() {\r\n    const { query, places } = this.state;\r\n    return (\r\n      <aside className=\"search\">\r\n        <input\r\n          autofocus\r\n          type=\"text\"\r\n          placeholder=\"Search places by name\"\r\n          aria-label=\"Search places by name\"\r\n          value={ query }\r\n          onChange={ (event) => this.updateQuery(event.target.value) }\r\n          disabled={ this.props.disabled }\r\n        />\r\n        <ol className=\"search-results\">\r\n        {places.map((place) => (\r\n          <li\r\n            key={ place.id }\r\n            onClick={ () => this.onItemClicked(place) }\r\n            onMouseEnter={ () => this.onItemHighlighted(place) }\r\n            onMouseLeave={ () => this.onItemHighlighted(place) }\r\n            onFocus={ () => this.onItemHighlighted(place) }\r\n            onBlur={ () => this.onItemHighlighted(place) }\r\n            onKeyDown={ (e) => this.onKeyDown(e, place) }\r\n            tabIndex={ 0 }\r\n          >\r\n            <span>{ place.name }</span>\r\n          </li>\r\n        ))}\r\n        </ol>\r\n      </aside>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;","import './CustomMarker.css';\r\nimport React, { Component } from 'react';\r\n/* global google */\r\nimport { Marker, InfoWindow } from 'react-google-maps';\r\n\r\nclass CustomMarker extends Component {\r\n  state = {\r\n    showInfo: false\r\n  }\r\n  onInfoWindowClosed = () => {\r\n    this.setState({\r\n      showInfo: false\r\n    });\r\n  }\r\n  toggleInfoWindow = () => {\r\n    this.setState({\r\n      showInfo: !this.state.showInfo\r\n    });\r\n  }\r\n  render() {\r\n    const { showInfo } = this.state;\r\n    const { place, select, highlight } = this.props;\r\n    const position = new google.maps.LatLng(place.location.latitude, place.location.longitude);\r\n    return (\r\n      <Marker\r\n        position={ position }\r\n        onClick={ this.toggleInfoWindow }\r\n        animation={ highlight\r\n          ? google.maps.Animation.BOUNCE\r\n          : null }\r\n      >\r\n        {(showInfo || select) && (\r\n          <InfoWindow onCloseClick={ this.onInfoWindowClosed }>\r\n            <div className=\"info-window\">\r\n              <div className=\"info-header\">\r\n                <img src={ place.picture.data.url } alt={ place.name } />\r\n                <h2>\r\n                  <a href={ place.link } target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    { place.name }\r\n                  </a>\r\n                </h2>\r\n              </div>\r\n              <hr/>\r\n              <p><strong>Address:</strong> { place.location.street }</p>\r\n              <p><strong>Rating:</strong> { place.overall_star_rating } of 5</p>\r\n              {place.price_range && (\r\n                <p><strong>Price:</strong> { place.price_range }</p>\r\n              )}\r\n            </div>\r\n          </InfoWindow>\r\n        )}\r\n      </Marker>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomMarker;","import './Map.css';\r\nimport React, { Component } from 'react';\r\nimport { compose, withProps } from 'recompose';\r\nimport { GoogleMap, withGoogleMap, withScriptjs } from 'react-google-maps';\r\nimport CustomMarker from '../CustomMarker/CustomMarker';\r\n\r\nconst MapWrapper = compose(\r\n  withProps({\r\n    loadingElement: (\r\n      <span>Loading Google Maps...</span>\r\n    ),\r\n    containerElement: (\r\n      <main className=\"map-container\" role=\"application\" tabIndex=\"0\" />\r\n    ),\r\n    mapElement: (\r\n      <div className=\"map\" />\r\n    )\r\n  }),\r\n  withScriptjs,\r\n  withGoogleMap\r\n)(props =>\r\n  <GoogleMap\r\n    defaultZoom={ 16 }\r\n    defaultCenter={ {lat: -30.02502, lng: -51.191165} } // Center of the neighborhood\r\n  >\r\n    {props.places.map(place =>\r\n      <CustomMarker\r\n        key={ place.id }\r\n        place={ place }\r\n        highlight={ props.highlighted && (place.id) === props.highlighted.id }\r\n        select={ props.selected && (place.id === props.selected.id) }\r\n      />\r\n    )}\r\n  </GoogleMap>\r\n);\r\n\r\nclass Map extends Component {\r\n  render = () => {\r\n    const { googleMapURL, places, selected, highlighted } = this.props;\r\n    return (\r\n      <MapWrapper\r\n        googleMapURL={ googleMapURL }\r\n        places={ places }\r\n        selected={ selected }\r\n        highlighted={ highlighted }\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;","export const locations = [\r\n  {id:'268669466579003',  name: 'Fazenda Barbanegra',         position: {lat: -30.025769, lng: -51.189295}},\r\n  {id:'700896006619622',  name: 'Le Bateau Ivre',             position: {lat: -30.028217, lng: -51.187401}},\r\n  {id:'259281561605091',  name: 'Amiche Pizzeria Napoletana', position: {lat: -30.027048, lng: -51.189527}},\r\n  {id:'189014444773149',  name: 'O Galo Cinza',               position: {lat: -30.024158, lng: -51.188978}},\r\n  {id:'240588242764786',  name: 'William & Sons',             position: {lat: -30.029411, lng: -51.189385}},\r\n  {id:'467109016766607',  name: 'Charlie Brownie',            position: {lat: -30.026026, lng: -51.193150}},\r\n  {id:\"205312857027290\",  name: 'Sharin',                     position: {lat: -30.022891, lng: -51.192314}},\r\n  {id:\"764905120382104\",  name: 'Ciao Pizzeria Napoletana',   position: {lat: -30.026455, lng: -51.188857}},\r\n  {id:\"1050311255096970\", name: 'Zero Sen',                   position: {lat: -30.026493, lng: -51.188950}},\r\n  {id:\"382636498800066\",  name: 'Brizza Pizzeria Napoletana', position: {lat: -30.022364, lng: -51.194586}},\r\n  {id:\"588584797891504\",  name: 'Fornellone',                 position: {lat: -30.021352, lng: -51.194929}},\r\n  {id:\"1513180848762216\", name: 'Sette PastaBar',             position: {lat: -30.021407, lng: -51.190905}},\r\n  {id:\"143827185807591\",  name: 'Diego Andino Pâtisserie',    position: {lat: -30.030123, lng: -51.188260}},\r\n  {id:\"139904993338445\",  name: 'The Weiss',                  position: {lat: -30.024224, lng: -51.189717}},\r\n  {id:\"2069438689812080\", name: 'Dona Maricota',              position: {lat: -30.027357, lng: -51.193457}},\r\n  {id:\"497242480300257\",  name: 'Art & Bar',                  position: {lat: -30.023047, lng: -51.190388}},\r\n  {id:\"482792791748512\",  name: '72 New York',                position: {lat: -30.021532, lng: -51.195160}},\r\n];\r\n","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport escapeRegExp from 'escape-string-regexp';\r\nimport by from 'sort-by';\r\nimport * as Facebook from '../../utils/facebookApi'\r\nimport * as Keys from '../../utils/apiKeys';\r\nimport Header from '../Header/Header';\r\nimport Search from '../Search/Search';\r\nimport Map from '../Map/Map';\r\nimport { locations } from '../../data/locations';\r\n\r\nconst FB_ERROR_MSG = 'There are some technical issues preventing us from reaching Facebook\\'s API, ' +\r\n  'which this app uses to load the locations it displays. Please try again later. \\n' +\r\n  'Meanwhile, you are welcome to get to know the Auxiliadora and Mont\\'Serrat ' +\r\n  'neighborhoods, as well as the rest of Porto Alegre, through our map.';\r\n\r\nconst MAPS_ERROR_MSG = 'There are some technical issues preventing us from reaching Google Maps. \\n' +\r\n  'Unfortunatelly, we cannot proceed right now :( \\n' +\r\n  'Please try again later.';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    places: [],\r\n    visiblePlaces: null,\r\n    selectedPlace: null,\r\n    highlightedPlace: null,\r\n    hasError: false\r\n  }\r\n  componentDidMount = () => {\r\n    Promise.all(\r\n      locations\r\n      .map(location =>\r\n        Facebook.getPlaceInformation(location.id)\r\n        .then(response => response.json())\r\n      )\r\n    )\r\n    .then(places => places.sort(by('name')))\r\n    .then(places => {\r\n      this.setState({\r\n        places,\r\n        visiblePlaces: places\r\n      });\r\n      this.forceUpdate();\r\n    }).catch(error => {\r\n      this.setState({\r\n        places: [],\r\n        visiblePlaces: []\r\n      });\r\n      this.forceUpdate();\r\n      alert(FB_ERROR_MSG, error)\r\n    });\r\n  }\r\n  onSearchUpdated = (query) => {\r\n    this.setState({\r\n      visiblePlaces: this.getFilteredPlaces(query, this.state.places)\r\n    });\r\n  }\r\n  onItemSelected = (place) => {\r\n    const { selectedPlace } = this.state;\r\n    this.setState({\r\n      selectedPlace: (selectedPlace && (selectedPlace.id === place.id)) ? null : place\r\n    });\r\n  }\r\n  onItemHighlighted = (place) => {\r\n    const { highlightedPlace } = this.state;\r\n    this.setState({\r\n      highlightedPlace: (highlightedPlace && (highlightedPlace.id === place.id)) ? null : place\r\n    });\r\n  }\r\n  getFilteredPlaces = (query, places) => {\r\n    let filteredPlaces;\r\n    if (query) {\r\n      const match = new RegExp(escapeRegExp(query.trim()), 'i');\r\n      filteredPlaces = places.filter((p) => match.test(p.name));\r\n    } else {\r\n      filteredPlaces = places;\r\n    }\r\n    return filteredPlaces;\r\n  }\r\n  render() {\r\n    const { places, visiblePlaces, selectedPlace, highlightedPlace, hasError } = this.state;\r\n    if (hasError) {\r\n      return (\r\n        <div className=\"google-maps-error\">\r\n          <h1>Google Maps is unavailable...</h1>\r\n          <p>{ MAPS_ERROR_MSG }</p>\r\n        </div>\r\n      );\r\n    }\r\n    return visiblePlaces && (\r\n      <div className=\"App\">\r\n        <Header/>\r\n        <div id=\"content\">\r\n          <Search\r\n            places={ visiblePlaces }\r\n            selected={ selectedPlace }\r\n            onSearchUpdated={ this.onSearchUpdated }\r\n            onItemSelected={ this.onItemSelected }\r\n            onItemHighlighted={ this.onItemHighlighted }\r\n            disabled={ !(places && places.length > 0) }\r\n          />\r\n          <Map\r\n            googleMapURL={ `https://maps.googleapis.com/maps/api/js?key=${ Keys.GOOGLE_MAPS_KEY }&v=3` }\r\n            places={ visiblePlaces }\r\n            selected={ selectedPlace }\r\n            highlighted={ highlightedPlace }\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  componentDidCatch(error, info) {\r\n    this.setState({ hasError: true });\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}